{% extends 'base.html' %}
{% block content %}
<h2 class="fancy-title mb-3">Drag & Drop Product Uploader</h2>
{{ categories|json_script:"cats-data" }}

<div class="card glass-card p-4 mb-3">
  <div id="dropzone" class="dropzone">
    <div class="dz-instructions">
      <div>ðŸ“¦ Drag & drop images here</div>
      <small class="text-muted">JPG, PNG, or WEBP. You can also click to pick files.</small>
    </div>
    <input id="file-input" type="file" accept="image/*" multiple hidden>
  </div>
</div>
<div class="card glass-card p-4">
  <div class="d-flex justify-content-between align-items-center mb-2">
    <h5 class="mb-0">Staged products</h5>
    <div class="d-flex gap-2">
      <button id="btn-clear" class="btn btn-outline-light btn-sm">Clear</button>
      <button id="btn-upload" class="btn btn-success btn-sm" disabled>Upload all</button>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-dark align-middle mb-0">
      <thead>
        <tr>
          <th>Preview</th><th style="min-width:240px;">Name</th><th>Brand</th><th>Category</th><th>Price (USD)</th><th>Status</th><th class="text-end">Actions</th>
        </tr>
      </thead>
      <tbody id="rows"></tbody>
    </table>
  </div>

  <div id="post-actions" class="d-none mt-3">
    <a href="{% url 'shop:product_list' %}" class="btn btn-primary">View catalog</a>
  </div>
</div>

<script>
